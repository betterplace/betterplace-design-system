import React from 'react'
import { ComponentStory, ComponentMeta } from '@storybook/react'
import { withThemeProvider } from '../../../helpers'
import FigmaCfg from './figma.lock'
import <%=compName%> from './<%=compFileName%>'

// More on default export: https://storybook.js.org/docs/react/writing-stories/introduction#default-export
export default {
  title: '<%=title%>',
  component: <%=compName%>,
  decorators: [withThemeProvider],
  // More on argTypes: https://storybook.js.org/docs/react/api/argtypes
  // argTypes: {},
  parameters: {
    design: FigmaCfg.themes.length ? FigmaCfg.themes.map(({url, name}) => ({url, name, type: 'figspec', accessToken: process.env.STORYBOOK_FIGMA_ACCESS_TOKEN,})) : { type: 'figspec', accessToken: process.env.STORYBOOK_FIGMA_ACCESS_TOKEN, url: FigmaCfg.url,},
  },
} as ComponentMeta<typeof <%=compName%>>

// More on component templates: https://storybook.js.org/docs/react/writing-stories/introduction#using-args
const Template: ComponentStory<typeof <%=compName%>> = (args) => <<%=compName%> {...args} />

<% if (!variants?.length) { %>
export const Default = Template.bind({})
// More on args: https://storybook.js.org/docs/react/writing-stories/args
Default.args = {}
<%} else { variants.forEach(function(variant) {%>
export const <%=variant.name%> = Template.bind({})
<%=variant.name%>.args = {
  <% variant.values.forEach(function(value) { %> <%-value.name%>: <%-value.value%>, <% }) %>
}
<%})}%>
