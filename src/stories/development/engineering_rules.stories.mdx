import { Meta } from '@storybook/addon-docs'

<Meta title="Development/Engineering Rules" />

# Engineering rules

üöß This is where we note down our agreements and rules as a developers team. So far, this is
rather a notepad. And its content is very much subject to change.

## Foundation

### CSS Framework

**We don‚Äôt rely on any existing CSS framework, we build our own.** After having worked with
and evaluated a couple of well-established CSS/UI frameworks (like Bootstrap, Foundation,
Tailwind, Bulma, Semantic, Chakra) we have learned and decided that our best bet is to build
our design system, and accordingly, our CSS system completely from scratch.

Our main reasons for this decision:

1. We won‚Äôt depend on framework maintainers and their decisions.
2. We will be flexible enough to meet any specific need of a large platform like ours.
3. **Because we can. And we ‚ù§Ô∏è CSS.** We are confident enough to write our stylesheets on our own.
   CSS is _not_ some obscure, secret science that needs to be handled somewhere under the hood
   of a 3rd-party framework. It‚Äôs a great technology that we‚Äôve grown up with. It‚Äôs a language we
   love.

### CSS methodologies

Not using a 3rd-party framework does not mean completely re-inventing the wheel. We are eager to
learn what the community knows and to build upon great ideas that others brought up.

#### ITCSS

‚Ä¶

#### BEM

‚Ä¶

## Tooling

### CSS preprocessor

- We use [PostCSS](https://postcss.org/).
- We no longer need any other preprocessor like Sass or LESS, because:
  - PostCSS allows for the same things we used to achieve with Sass/LESS:
    - variables,
    - nesting,
    - mix-ins,
    - functions,
    - ‚Ä¶
  - Relying only on PostCSS spares us some dependencies.
  - It will reduce bundle sizes (?)

### CSS-in-JS

- We manage component-specific styles within the component code scope using [CSS Modules](https://github.com/css-modules/css-modules).

## CSS coding conventions

### CSS selectors

#### Classnames

##### Use `kebap-case` in plain CSS

As a general rule we adhere to the most commonly used style of using `kebap-case` for HTML/CSS classnames.

##### Use `camelCase` in CSS-in-JS

As an exception from the above rule we use `camelCase` in CSS-in-JS modules. This makes for [smoother
integration with JavaScript](https://github.com/css-modules/css-modules#naming).

##### Do not split classnames

Globally used classnames should always be written in one piece, as opposed to code-wise concatenation.

```javascript
// ‚õîÔ∏è don‚Äôt:
label-${success ? 'success' : 'error'}

// ‚úÖ do:
success ? 'label-success' : 'label-error'
```

Avoid [using preprocessors‚Äô parent scope operators (like Sass ampersand) to concatenate classnames](https://css-tricks.com/the-sass-ampersand/#aa-modifying-the-ampersand):

```css
/* ‚õîÔ∏è don‚Äôt: */
.label {
  font-weight: normal;
  &-heavy {
    font-weight: bold;
  }
}

/* ‚úÖ do: */
.label {
  font-weight: normal;
}

.label-heavy {
  font-weight: bold;
}
```

The reason for this rule is that splitting classnames can make it difficult to find
all usages of a certain class in code‚Äîwhich we want to avoid.

However, if you effectively limit the scope of a classname (by using CSS Modules or just scoped CSS
selectors) there might be situations where slavishly following this rule leads to more overhead than
gain of maintainability.
